<html>

<head>
  <title>Gyroscope and Accelerometer</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <h1>Gyroscope</h1>
  <p id="gyroX">Welcome to Express</p>
  <p id="gyroY"></p>
  <p id="gyroZ"></p>
  <p id="gyroTimestamp"></p>
  <div>
    <button onclick="gyroStart()">Start Gyroscope</button>
    <button onclick="gyroStop()">Stop Gyroscope</button>
  </div>
  <br>
  <h1>Accelerometer</h1>
  <p id="accelX">Welcome to Express</p>
  <p id="accelY"></p>
  <p id="accelZ"></p>
  <p id="accelTimestamp"></p>
  <div>
    <button onclick="accelStart()">Start Accelerometer</button>
    <button onclick="accelStop()">Stop Accelerometer</button>
  </div>

<script>
  let gyroscope = new Gyroscope({ frequency: 200 });
  let gyroDate;

  gyroscope.addEventListener("reading", (e) => {
    document.getElementById("gyroX").innerHTML = `Angular velocity along the X-axis ${gyroscope.x.toFixed(5)}`;
    document.getElementById("gyroY").innerHTML = `Angular velocity along the Y-axis ${gyroscope.y.toFixed(5)}`;
    document.getElementById("gyroZ").innerHTML = `Angular velocity along the Z-axis ${gyroscope.z.toFixed(5)}`;
    gyroDate = new Date();
    document.getElementById("gyroTimestamp").innerHTML = `Timestamp: ${(gyroDate.getUTCMilliseconds()/60).toFixed(3)}`;
  });
  let accelerometer = new Accelerometer({ frequency: 200 });
  let accelDate;

  accelerometer.addEventListener("reading", (e) => {
    document.getElementById("accelX").innerHTML = `3D position in the X-axis ${accelerometer.x.toFixed(5)}`;
    document.getElementById("accelY").innerHTML = `3D position in the Y-axis ${accelerometer.y.toFixed(5)}`;
    document.getElementById("accelZ").innerHTML = `3D position in the Z-axis ${accelerometer.z.toFixed(5)}`;
    accelDate = new Date();
    document.getElementById("accelTimestamp").innerHTML = `Timestamp: ${(accelDate.getUTCMilliseconds()/60).toFixed(3)}`;
  });
  function gyroStart() {
    gyroscope.start();
  }
  function gyroStop() {
    gyroscope.stop();
  }
  function accelStart() {
    accelerometer.start();
  }
  function accelStop() {
    accelerometer.stop();
  }
</script>
</body>

</html>
